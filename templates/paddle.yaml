project: templates

plugins:
  enabled:
    - python

# Prerequisites: https://github.com/pyenv/pyenv/wiki#suggested-build-environment
environment:
  path: .venv
  python: 3.9

requirements:
  main:
    - name: argparse
      version: ==1.4.0
    - name: pandas
      version: ==2.0.3
    - name: diff-match-patch
      version: ==20230430
  dev:
    - name: pytest
      version: ==7.4.0
    - name: pytest-runner
      version: ==6.0.0
    - name: pytest-subtests
      version: ==0.11.0

tasks:
  run:
    - id: filter_by_diff
      entrypoint: templates/diffs/filter_by_diff.py
    - id: search_by_freq
      entrypoint: templates/freq/search_template_issues.py
    - id: postprocess_by_freq
      entrypoint: templates/freq/postprocess.py
  test:
    pytest:
      - id: filter_by_diff_tests
        targets:
          - templates_tests/diffs
      - id: search_by_freq_tests
        targets:
          - templates_tests/freq

subprojects:
  - core