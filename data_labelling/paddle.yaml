project: data_labelling

plugins:
  enabled:
    - python

# Prerequisites: https://github.com/pyenv/pyenv/wiki#suggested-build-environment
environment:
  path: .venv
  python: 3.9

requirements:
  main:
    - name: pandas
      version: ==2.0.3
    - name: pyyaml
      version: ==6.0
    - name: dataclasses-json
      version: ==0.5.9
    - name: hyperstyle
      version: ==1.4.2
  dev:
    - name: pytest
      version: ==7.4.0
    - name: pytest-runner
      version: ==6.0.0
    - name: pytest-subtests
      version: ==0.11.0

tasks:
  run:
    - id: run_hyperstyle
      entrypoint: data_labelling/hyperstyle/evaluate.py
      args:
        - /Users/anastasia.birillo/PycharmProjects/hyperstyle-analysis-prod/data_labelling/src/data/real_data/2023_06_05/submissions_python_2023_06_05_cut.csv
        - --output-path /Users/anastasia.birillo/PycharmProjects/hyperstyle-analysis-prod/data_labelling/src/data/real_data/2023_06_05/output
        - --docker-path None
        - --disable pylint,flake8,radon
        - -cwd /Users/anastasia.birillo/PycharmProjects/hyperstyle_new
        - --tool-path /Users/anastasia.birillo/PycharmProjects/hyperstyle_new/hyperstyle/src/python/review/run_tool.py
        - --venv /Users/anastasia.birillo/PycharmProjects/hyperstyle_new/venv
        - --with-all-categories

  test:
    pytest:
      - id: data_labelling_hyperstyle_tests
        targets:
          - data_labelling_tests/hyperstyle

subprojects:
  - core